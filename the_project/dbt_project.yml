name: "the_project"
version: "1.0.0"
profile: "the_project"

model-paths: [ "models" ]
analysis-paths: [ "analyses" ]
test-paths: [ "tests" ]
seed-paths: [ "seeds" ]
macro-paths: [ "macros" ]
snapshot-paths: [ "snapshots" ]

clean-targets:
  - "target"
  - "dbt_packages"

seeds:
  the_project:
    +schema: "{{ env_var('DB_SCHEMA_STG', 'stg') }}"
    ref_countries:
      +column_types:
        code: char(2)
        name: varchar(100)

models:
  the_project:
    staging:
      +schema: "{{ env_var('DB_SCHEMA_STG', 'stg') }}"
      +materialized: incremental
      incremental_strategy: append
    marts:
      +schema: "{{ env_var('DB_SCHEMA_MART', 'mart') }}"
      +materialized: incremental
      incremental_strategy: append

tests:
  +store_failures: true
